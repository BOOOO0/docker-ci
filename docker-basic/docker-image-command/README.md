# 도커 이미지와 명령어

## 컨테이너 생성 및 실행

- 이미지를 가지고 컨테이너를 생성하거나 실행할 때 필요한 명령어는`docker run [이미지 이름]`입니다.

- |         docker         |          run          |     [이미지 이름]     |
  | :--------------------: | :-------------------: | :-------------------: |
  | 도커 클라이언트를 의미 | 컨테이너 생성 및 실행 | run하려는 이미지 이름 |

## 이미지 내부 파일 시스템 구조 보기

- run 명령어로 실행시키려는 이미지가 어떤 파일들을 가지고 있는지 구조를 보는 명령어는 `docker run [이미지 이름] ls`입니다.

- `ls`는 하위 디렉토리와 파일들의 리스트를 볼 수 있는 명령어입니다.

- `ls`가 입력된 자리 즉, 이미지 이름 뒤에 쓰이는 명령어는 이미지가 가지고 있는 시작 명령어를 무시하고 자기 자신을 실행하게 합니다.

- 도커의 실행 과정을 생각하면 파일 스냅샷이 컨테이너에 할당된 스토리지에 들어가고 명령어가 실행되기 위해 컨테이너로 옮겨지는데 해당 자리에 실행 명령어가 아닌 `ls`가 옮겨지고 `ls`를 수행하는 것입니다.

## 이미지가 가지는 명령어

- 이미지가 가지는 명령어들과 컨테이너가 수행 가능한 명령어들은 같습니다.

- `docker run alpine ls`라는 명령어를 CLI에 입력하면 alpine 이미지의 파일 구조를 볼 수 있습니다.

- 하지만 `docker run hello-world ls`라는 명령어는 에러가 발생합니다.

- `alpine`이미지는 파일 스냅샷 안에 `ls`를 사용할 수 있게 하는 파일을 가지고 있지만 `hello-world`이미지는 가지고 있지 않기 때문에 `executable file not found`라는 에러 문구를 보여줍니다.
